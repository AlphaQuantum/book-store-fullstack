[{"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\index.js":"1","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\App.js":"2","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Update.jsx":"3","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Add.jsx":"4","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Admin.jsx":"5","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Home.jsx":"6","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\NavbarAdmin.jsx":"7","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Navbar.jsx":"8"},{"size":232,"mtime":1673086082934,"results":"9","hashOfConfig":"10"},{"size":761,"mtime":1673290357195,"results":"11","hashOfConfig":"10"},{"size":2607,"mtime":1673192512977,"results":"12","hashOfConfig":"10"},{"size":2054,"mtime":1673192686718,"results":"13","hashOfConfig":"10"},{"size":3016,"mtime":1673289945612,"results":"14","hashOfConfig":"10"},{"size":2192,"mtime":1673290154595,"results":"15","hashOfConfig":"10"},{"size":564,"mtime":1673290281180,"results":"16","hashOfConfig":"10"},{"size":414,"mtime":1673290968494,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"5f2kvo",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\index.js",[],[],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\App.js",[],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Update.jsx",["44"],[],"import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nexport default function Update() {\r\n  const [book, setBook] = useState({\r\n    title: \"\",\r\n    price: 0.0,\r\n    desc: \"\",\r\n    cover: \"\"\r\n  });\r\n  const [count, setCount] = useState(0);\r\n\r\n  const navigate = useNavigate();\r\n  //to get the book id (from the path)\r\n  const location = useLocation();\r\n  const bookId = location.pathname.split(\"/\")[2];\r\n\r\n  useEffect(() => {\r\n    const bookData = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:8888/books/\" + bookId)\r\n        const newBook = res.data[0];\r\n        setBook({\r\n          title: newBook.title,\r\n          price: newBook.price,\r\n          desc: newBook.desc,\r\n          cover: newBook.cover\r\n        });\r\n        setCount(newBook.desc.length);\r\n\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n    bookData()\r\n  }, [])\r\n\r\n\r\n  //handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCount(value.length);\r\n    setBook((prev) => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n\r\n  //handle click, more like send data to the database\r\n  const handleClick = async e => {\r\n    //so that doesnt refresh the page\r\n    e.preventDefault();\r\n    console.log(book)\r\n    try {\r\n      await axios.put(\"http://localhost:8888/books/\" + bookId, book);\r\n      //redirects to home page\r\n      navigate(\"/\")\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"pt-14 w-full sm:w-2/4 mx-auto m-2\">\r\n      <div className=\"flex flex-col p-1\">\r\n        <input className='p-1 my-2 border shadow' type=\"text\" onChange={handleChange} value={book.title} placeholder='title' name='title' />\r\n        <textarea className='p-1 my-2 border shadow' type=\"text\" onChange={handleChange} value={book.desc} placeholder='desc' name='desc' />\r\n        {count > 1848 ? \r\n        <div className='text-red-700'><span className='float-right'>{count}/2048</span></div> : <div className='text-yellow-900'><span className='float-right'>{count}/2048</span></div>\r\n        }\r\n        <input className='p-1 my-2 border shadow' type=\"text\" onChange={handleChange} value={book.cover} placeholder='cover' name='cover' />\r\n        <input className='p-1 my-2 border shadow' type=\"number\" onChange={handleChange} value={book.price} placeholder='price' name='price' />\r\n        <button className='p-1 shadow bg-yellow-700 text-white' onClick={handleClick}>Update Book</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Add.jsx",[],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Admin.jsx",[],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Home.jsx",["45","46"],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\NavbarAdmin.jsx",[],[],"C:\\Visual-Studio-Code\\Node\\book-store-fullstack\\client\\src\\pages\\Navbar.jsx",[],[],{"ruleId":"47","severity":1,"message":"48","line":38,"column":6,"nodeType":"49","endLine":38,"endColumn":8,"suggestions":"50"},{"ruleId":"51","severity":1,"message":"52","line":4,"column":10,"nodeType":"53","messageId":"54","endLine":4,"endColumn":14},{"ruleId":"51","severity":1,"message":"55","line":22,"column":11,"nodeType":"53","messageId":"54","endLine":22,"endColumn":23},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'bookId'. Either include it or remove the dependency array.","ArrayExpression",["56"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'handleDelete' is assigned a value but never used.",{"desc":"57","fix":"58"},"Update the dependencies array to be: [bookId]",{"range":"59","text":"60"},[990,992],"[bookId]"]